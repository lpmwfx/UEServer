# UEServer RAG Index

## Session 2-3 - Bridge CLI & Switchboard (2025-12-26)

### Web Documentation Searches

**Plugin Structure & Requirements:**
- [Plugins in UE 5.7](https://dev.epicgames.com/documentation/en-us/unreal-engine/plugins-in-unreal-engine)
- LoadingPhase options: Default, PreDefault
- Module Types: Runtime, RuntimeAndProgram, RuntimeNoCommandlet, etc.

**Key Finding:**
- Engine plugins need: `"Type": "RuntimeAndProgram"`, `"LoadingPhase": "PreDefault"`
- Location: `/UnrealEngine/Engine/Plugins/UEServer/`

### Switchboard Architecture

**Format:** `~/.ueserver/switchboard.json`
```json
{"instances":[{"pid":123,"port":41515,"project":"/path/to/proj.uproject","project_name":"Name","started":"2025-12-26T10:19:47Z"}]}
```

**RPC Changes:**
- RegisterInSwitchboard(), UnregisterFromSwitchboard()
- Uses FPlatformProcess::UserHomeDir() for ~/.ueserver

### Bridge CLI Files

- bridge/ue_bridge/{cli,types,port_discovery,tcp_client,tools}.py
- Install: `pip install -e bridge/`
- Usage: `python3 -m ue_bridge ue.ping`

### Status - Phase 1 Complete! ðŸŽ‰

âœ… Bridge implementation complete
âœ… Switchboard code complete
âœ… Engine plugin loading (tested with UETRAIL)
âœ… End-to-end testing passed
âœ… Health check feature (500ms timeout)
âœ… Configurable timeout (--timeout parameter)

### Testing Results (Session 3)

**UE Server:**
- Port: 33051 (dynamic)
- File: ~/.ueserver/switchboard.json
- Raw TCP: `echo '{"id":"test","op":"ping"}' | nc 127.0.0.1 33051` âœ…

**Bridge CLI:**
- `ue-bridge ue.ping` âœ…
- `ue-bridge ue.health` âœ… (500ms timeout)
- `ue-bridge ue.ping --timeout=5000` âœ…

**Plugin Compilation:**
- Symlinked to UETRAIL/Plugins/UEServer
- Built with: `/Engine/Build/BatchFiles/Linux/Build.sh UETRAILEditor`
- Loads successfully in UE 5.7.1

### Links

- BlenderServer: `/home/lpm/REPO/BlenderServer/`
- UETRAIL: `/home/lpm/REPO/UETRAIL/`
- Engine: `/home/lpm/PROD/UnrealEngine-5.7.1/`
